const ALERT_CONFIG = { email: 'kayab2309@gmail.com', formspreeEndpoint: 'https: }; function sendVisitAlert() { const visitKey = 'portfolio_visit_' + new Date().toDateString(); if (sessionStorage.getItem(visitKey)) { console.log('ðŸ”„ Visita ya registrada hoy'); return; } const visitorInfo = getVisitorInfo(); sendEmailAlert(visitorInfo); } function getVisitorInfo() { const now = new Date(); const timeZone = 'America/Mexico_City'; return { timestamp: now.toLocaleString('es-MX', { timeZone: timeZone, year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' }), url: window.location.href, referrer: document.referrer || 'Acceso directo', userAgent: navigator.userAgent, language: navigator.language, screenResolution: `${screen.width}x${screen.height}`, viewport: `${window.innerWidth}x${window.innerHeight}`, platform: navigator.platform, device: getDeviceType(), browser: getBrowserInfo(), timezone: timeZone }; } function getDeviceType() { const ua = navigator.userAgent; if (/Mobile|Android|iPhone/.test(ua)) return 'ðŸ“± MÃ³vil'; if (/iPad|Tablet/.test(ua)) return 'ðŸ“± Tablet'; return 'ðŸ’» Desktop'; } function getBrowserInfo() { const ua = navigator.userAgent; if (ua.includes('Chrome')) return 'ðŸŒ Chrome'; if (ua.includes('Firefox')) return 'ðŸ”¥ Firefox'; if (ua.includes('Safari')) return 'ðŸ§­ Safari'; if (ua.includes('Edge')) return 'ðŸ”· Edge'; if (ua.includes('Opera')) return 'ðŸŽ­ Opera'; return 'ðŸ” Otro'; } function sendEmailAlert(visitorInfo) { const emailData = { _subject: `ðŸš€ NUEVA VISITA en Portfolio Fernando Olvera - ${visitorInfo.timestamp}`, _replyto: ALERT_CONFIG.email, _template: 'box', mensaje: ` ðŸŽ¯ NUEVO VISITANTE EN TU PORTFOLIO â° Fecha y Hora: ${visitorInfo.timestamp} ðŸŒ URL Visitada: ${visitorInfo.url} ðŸ”— LlegÃ³ desde: ${visitorInfo.referrer} ðŸ“± DISPOSITIVO: â€¢ Tipo: ${visitorInfo.device} â€¢ Navegador: ${visitorInfo.browser} â€¢ Plataforma: ${visitorInfo.platform} â€¢ ResoluciÃ³n: ${visitorInfo.screenResolution} â€¢ Ventana: ${visitorInfo.viewport} â€¢ Idioma: ${visitorInfo.language} ðŸš€ Â¡Tu portfolio estÃ¡ generando interÃ©s! ðŸ“Š Ver analytics: https: -- Sistema de alertas automÃ¡ticas Portfolio Fernando Olvera RendÃ³n `, visitor_time: visitorInfo.timestamp, visitor_url: visitorInfo.url, visitor_referrer: visitorInfo.referrer, visitor_device: visitorInfo.device, visitor_browser: visitorInfo.browser, visitor_platform: visitorInfo.platform, visitor_screen: visitorInfo.screenResolution, visitor_language: visitorInfo.language }; fetch(ALERT_CONFIG.formspreeEndpoint, { method: 'POST', headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' }, body: JSON.stringify(emailData) }) .then(response => { if (response.ok) { console.log('âœ… Alerta de visita enviada exitosamente'); const visitKey = 'portfolio_visit_' + new Date().toDateString(); sessionStorage.setItem(visitKey, 'sent'); if (typeof gtag !== 'undefined') { gtag('event', 'visit_alert_sent', { 'event_category': 'engagement', 'event_label': 'email_notification' }); } } else { console.log('âš ï¸ Respuesta no exitosa:', response.status); } }) .catch(error => { console.log('âŒ Error enviando alerta:', error); }); } document.addEventListener('DOMContentLoaded', function() { console.log('ðŸš€ Sistema de alertas iniciado...'); setTimeout(() => { sendVisitAlert(); }, 3000); let userInteracted = false; const interactionEvents = ['scroll', 'click', 'keydown', 'mousemove']; interactionEvents.forEach(event => { document.addEventListener(event, function() { if (!userInteracted) { userInteracted = true; setTimeout(() => { sendVisitAlert(); }, 1000); } }, { once: true }); }); }); const hamburger = document.querySelector('.hamburger'); const navMenu = document.querySelector('.nav-menu'); const navLinks = document.querySelectorAll('.nav-link'); hamburger.addEventListener('click', () => { hamburger.classList.toggle('active'); navMenu.classList.toggle('active'); }); navLinks.forEach(link => { link.addEventListener('click', () => { hamburger.classList.remove('active'); navMenu.classList.remove('active'); }); }); document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if (target) { const headerOffset = 80; const elementPosition = target.getBoundingClientRect().top; const offsetPosition = elementPosition + window.pageYOffset - headerOffset; window.scrollTo({ top: offsetPosition, behavior: 'smooth' }); } }); }); window.addEventListener('scroll', () => { const navbar = document.querySelector('.navbar'); if (window.scrollY > 100) { navbar.style.background = 'rgba(255, 255, 255, 0.98)'; navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)'; } else { navbar.style.background = 'rgba(255, 255, 255, 0.95)'; navbar.style.boxShadow = 'none'; } }); const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' }; const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('in-view'); if (entry.target.classList.contains('skill-category')) { const skillBars = entry.target.querySelectorAll('.skill-progress'); skillBars.forEach(bar => { const width = bar.style.width; bar.style.width = '0%'; setTimeout(() => { bar.style.width = width; }, 200); }); } } }); }, observerOptions); document.querySelectorAll('.section-title, .project-card, .dashboard-item, .skill-category').forEach(el => { observer.observe(el); }); function typeWriter(element, text, speed = 100) { let i = 0; element.innerHTML = ''; function type() { if (i < text.length) { element.innerHTML += text.charAt(i); i++; setTimeout(type, speed); } } type(); } window.addEventListener('load', () => { const heroTitle = document.querySelector('.hero-title'); const originalText = heroTitle.textContent; typeWriter(heroTitle, originalText, 80); }); function animateCounter(element, target, duration = 2000) { let start = 0; const increment = target / (duration / 16); function updateCounter() { start += increment; if (start < target) { element.textContent = Math.floor(start) + '+'; requestAnimationFrame(updateCounter); } else { element.textContent = target + '+'; } } updateCounter(); } const statsObserver = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { const statNumbers = entry.target.querySelectorAll('.stat-number'); statNumbers.forEach(stat => { const target = parseInt(stat.textContent); animateCounter(stat, target); }); statsObserver.unobserve(entry.target); } }); }, { threshold: 0.5 }); const heroStats = document.querySelector('.hero-stats'); if (heroStats) { statsObserver.observe(heroStats); } document.querySelectorAll('.project-card').forEach(card => { card.addEventListener('mouseenter', () => { card.style.transform = 'translateY(-10px) scale(1.02)'; }); card.addEventListener('mouseleave', () => { card.style.transform = 'translateY(0) scale(1)'; }); }); document.querySelectorAll('.dashboard-item').forEach(item => { const overlay = item.querySelector('.dashboard-overlay'); const image = item.querySelector('.dashboard-image'); item.addEventListener('mouseenter', () => { overlay.style.opacity = '1'; image.style.transform = 'scale(1.1)'; }); item.addEventListener('mouseleave', () => { overlay.style.opacity = '0'; image.style.transform = 'scale(1)'; }); }); function validateEmail(email) { const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; return re.test(email); } function copyToClipboard(text) { navigator.clipboard.writeText(text).then(() => { showNotification('Email copiado al portapapeles!'); }).catch(err => { console.error('Error al copiar: ', err); }); } function showNotification(message, type = 'success') { const notification = document.createElement('div'); notification.className = `notification notification-${type}`; notification.textContent = message; notification.style.cssText = ` position: fixed; top: 20px; right: 20px; background: ${type === 'success' ? '#4CAF50' : '#f44336'}; color: white; padding: 1rem 2rem; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 10000; transform: translateX(100%); transition: transform 0.3s ease; `; document.body.appendChild(notification); setTimeout(() => { notification.style.transform = 'translateX(0)'; }, 100); setTimeout(() => { notification.style.transform = 'translateX(100%)'; setTimeout(() => { document.body.removeChild(notification); }, 300); }, 3000); } document.addEventListener('DOMContentLoaded', () => { const emailElement = document.querySelector('.contact-item p'); if (emailElement && emailElement.textContent.includes('@')) { emailElement.style.cursor = 'pointer'; emailElement.title = 'Click para copiar email'; emailElement.addEventListener('click', () => { copyToClipboard(emailElement.textContent); }); } }); window.addEventListener('scroll', () => { const scrolled = window.pageYOffset; const parallax = document.querySelector('.hero::before'); const speed = scrolled * 0.5; if (parallax) { parallax.style.transform = `translateY(${speed}px)`; } }); const imageObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { const img = entry.target; const src = img.dataset.src; if (!src) return; img.classList.add('loading'); const onLoad = () => { img.classList.remove('loading'); img.classList.add('loaded'); img.removeEventListener('load', onLoad); img.removeAttribute('data-src'); }; img.addEventListener('load', onLoad); img.src = src; imageObserver.unobserve(img); } }); }); document.querySelectorAll('img[data-src]').forEach(img => { imageObserver.observe(img); }); function debounce(func, wait, immediate) { let timeout; return function executedFunction() { const context = this; const args = arguments; const later = function() { timeout = null; if (!immediate) func.apply(context, args); }; const callNow = immediate && !timeout; clearTimeout(timeout); timeout = setTimeout(later, wait); if (callNow) func.apply(context, args); }; } const debouncedScroll = debounce(() => { const navbar = document.querySelector('.navbar'); if (window.scrollY > 100) { navbar.style.background = 'rgba(255, 255, 255, 0.98)'; navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)'; } else { navbar.style.background = 'rgba(255, 255, 255, 0.95)'; navbar.style.boxShadow = 'none'; } }, 10); window.addEventListener('scroll', debouncedScroll); function updateActiveNavLink() { const sections = document.querySelectorAll('section[id]'); const navLinks = document.querySelectorAll('.nav-link'); let current = ''; sections.forEach(section => { const sectionTop = section.getBoundingClientRect().top; if (sectionTop <= 100) { current = section.getAttribute('id'); } }); navLinks.forEach(link => { link.classList.remove('active'); if (link.getAttribute('href') === `#${current}`) { link.classList.add('active'); } }); } window.addEventListener('scroll', debounce(updateActiveNavLink, 100)); document.addEventListener('DOMContentLoaded', () => { console.log('Portfolio website loaded successfully!'); updateActiveNavLink(); document.body.classList.add('loaded'); }); function safeQuerySelector(selector, callback) { const element = document.querySelector(selector); if (element && callback) { callback(element); } return element; } safeQuerySelector('.hero-title', (element) => { }); safeQuerySelector('.contact-form', (form) => { });